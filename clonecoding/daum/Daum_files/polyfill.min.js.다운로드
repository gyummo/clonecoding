Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.oMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var r=this;do{if(r.matches(e))return r;r=r.parentElement||r.parentNode}while(null!==r&&1===r.nodeType);return null}),null==Element.prototype.getAttributeNames&&(Element.prototype.getAttributeNames=function(){for(var e=this.attributes,r=e.length,n=new Array(r),o=0;o<r;o++)n[o]=e[o].name;return n}),function(){if("undefined"!=typeof window)try{var e=new window.CustomEvent("test",{cancelable:!0});if(e.preventDefault(),!0!==e.defaultPrevented)throw new Error("Could not prevent default")}catch(e){var t=function(e,r){var n,o;return(r=r||{}).bubbles=!!r.bubbles,r.cancelable=!!r.cancelable,(n=document.createEvent("CustomEvent")).initCustomEvent(e,r.bubbles,r.cancelable,r.detail),o=n.preventDefault,n.preventDefault=function(){o.call(this);try{Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}})}catch(e){this.defaultPrevented=!0}},n};t.prototype=window.Event.prototype,window.CustomEvent=t}}(),function(e){"use strict";if(!e.fetch){var r="URLSearchParams"in e,n="Symbol"in e&&"iterator"in Symbol,o="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),i="FormData"in e,s="ArrayBuffer"in e;if(s)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],isDataView=function(e){return e&&DataView.prototype.isPrototypeOf(e)},u=ArrayBuffer.isView||function(e){return e&&a.indexOf(Object.prototype.toString.call(e))>-1};Headers.prototype.append=function(e,r){e=normalizeName(e),r=normalizeValue(r);var n=this.map[e];this.map[e]=n?n+","+r:r},Headers.prototype.delete=function(e){delete this.map[normalizeName(e)]},Headers.prototype.get=function(e){return e=normalizeName(e),this.has(e)?this.map[e]:null},Headers.prototype.has=function(e){return this.map.hasOwnProperty(normalizeName(e))},Headers.prototype.set=function(e,r){this.map[normalizeName(e)]=normalizeValue(r)},Headers.prototype.forEach=function(e,r){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(r,this.map[n],n,this)},Headers.prototype.keys=function(){var e=[];return this.forEach((function(r,n){e.push(n)})),iteratorFor(e)},Headers.prototype.values=function(){var e=[];return this.forEach((function(r){e.push(r)})),iteratorFor(e)},Headers.prototype.entries=function(){var e=[];return this.forEach((function(r,n){e.push([n,r])})),iteratorFor(e)},n&&(Headers.prototype[Symbol.iterator]=Headers.prototype.entries);var h=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];Request.prototype.clone=function(){return new Request(this,{body:this._bodyInit})},Body.call(Request.prototype),Body.call(Response.prototype),Response.prototype.clone=function(){return new Response(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Headers(this.headers),url:this.url})},Response.error=function(){var e=new Response(null,{status:0,statusText:""});return e.type="error",e};var c=[301,302,303,307,308];Response.redirect=function(e,r){if(-1===c.indexOf(r))throw new RangeError("Invalid status code");return new Response(null,{status:r,headers:{location:e}})},e.Headers=Headers,e.Request=Request,e.Response=Response,e.fetch=function(e,r){return new Promise((function(n,i){var s=new Request(e,r),a=new XMLHttpRequest;a.onload=function(){var e,r,o={status:a.status,statusText:a.statusText,headers:(e=a.getAllResponseHeaders()||"",r=new Headers,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":"),o=n.shift().trim();if(o){var i=n.join(":").trim();r.append(o,i)}})),r)};o.url="responseURL"in a?a.responseURL:o.headers.get("X-Request-URL");var i="response"in a?a.response:a.responseText;n(new Response(i,o))},a.onerror=function(){i(new TypeError("Network request failed"))},a.ontimeout=function(){i(new TypeError("Network request failed"))},a.open(s.method,s.url,!0),"include"===s.credentials?a.withCredentials=!0:"omit"===s.credentials&&(a.withCredentials=!1),"responseType"in a&&o&&(a.responseType="blob"),s.headers.forEach((function(e,r){a.setRequestHeader(r,e)})),a.send(void 0===s._bodyInit?null:s._bodyInit)}))},e.fetch.polyfill=!0}function normalizeName(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function normalizeValue(e){return"string"!=typeof e&&(e=String(e)),e}function iteratorFor(e){var r={next:function(){var r=e.shift();return{done:void 0===r,value:r}}};return n&&(r[Symbol.iterator]=function(){return r}),r}function Headers(e){this.map={},e instanceof Headers?e.forEach((function(e,r){this.append(r,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(r){this.append(r,e[r])}),this)}function consumed(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function fileReaderReady(e){return new Promise((function(r,n){e.onload=function(){r(e.result)},e.onerror=function(){n(e.error)}}))}function readBlobAsArrayBuffer(e){var r=new FileReader,n=fileReaderReady(r);return r.readAsArrayBuffer(e),n}function bufferClone(e){if(e.slice)return e.slice(0);var r=new Uint8Array(e.byteLength);return r.set(new Uint8Array(e)),r.buffer}function Body(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(o&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(i&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(r&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(s&&o&&isDataView(e))this._bodyArrayBuffer=bufferClone(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!s||!ArrayBuffer.prototype.isPrototypeOf(e)&&!u(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=bufferClone(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},o&&(this.blob=function(){var e=consumed(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?consumed(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(readBlobAsArrayBuffer)}),this.text=function(){var e=consumed(this);if(e)return e;if(this._bodyBlob)return function readBlobAsText(e){var r=new FileReader,n=fileReaderReady(r);return r.readAsText(e),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function readArrayBufferAsText(e){for(var r=new Uint8Array(e),n=new Array(r.length),o=0;o<r.length;o++)n[o]=String.fromCharCode(r[o]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},i&&(this.formData=function(){return this.text().then(decode)}),this.json=function(){return this.text().then(JSON.parse)},this}function Request(e,r){var n=(r=r||{}).body;if(e instanceof Request){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,r.headers||(this.headers=new Headers(e.headers)),this.method=e.method,this.mode=e.mode,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=r.credentials||this.credentials||"omit",!r.headers&&this.headers||(this.headers=new Headers(r.headers)),this.method=function normalizeMethod(e){var r=e.toUpperCase();return h.indexOf(r)>-1?r:e}(r.method||this.method||"GET"),this.mode=r.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function decode(e){var r=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),o=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");r.append(decodeURIComponent(o),decodeURIComponent(i))}})),r}function Response(e,r){r||(r={}),this.type="default",this.status=void 0===r.status?200:r.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in r?r.statusText:"OK",this.headers=new Headers(r.headers),this.url=r.url||"",this._initBody(e)}}("undefined"!=typeof self?self:this),function(){"use strict";if("object"==typeof window)if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});else{var e=function(e){for(var r=window.document,n=getFrameElement(r);n;)n=getFrameElement(r=n.ownerDocument);return r}(),r=[],n=null,o=null;IntersectionObserver.prototype.THROTTLE_TIMEOUT=100,IntersectionObserver.prototype.POLL_INTERVAL=null,IntersectionObserver.prototype.USE_MUTATION_OBSERVER=!0,IntersectionObserver._setupCrossOriginUpdater=function(){return n||(n=function(e,n){o=e&&n?convertFromParentRect(e,n):{top:0,bottom:0,left:0,right:0,width:0,height:0},r.forEach((function(e){e._checkForIntersections()}))}),n},IntersectionObserver._resetCrossOriginUpdater=function(){n=null,o=null},IntersectionObserver.prototype.observe=function(e){if(!this._observationTargets.some((function(r){return r.element==e}))){if(!e||1!=e.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:e,entry:null}),this._monitorIntersections(e.ownerDocument),this._checkForIntersections()}},IntersectionObserver.prototype.unobserve=function(e){this._observationTargets=this._observationTargets.filter((function(r){return r.element!=e})),this._unmonitorIntersections(e.ownerDocument),0==this._observationTargets.length&&this._unregisterInstance()},IntersectionObserver.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorAllIntersections(),this._unregisterInstance()},IntersectionObserver.prototype.takeRecords=function(){var e=this._queuedEntries.slice();return this._queuedEntries=[],e},IntersectionObserver.prototype._initThresholds=function(e){var r=e||[0];return Array.isArray(r)||(r=[r]),r.sort().filter((function(e,r,n){if("number"!=typeof e||isNaN(e)||e<0||e>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return e!==n[r-1]}))},IntersectionObserver.prototype._parseRootMargin=function(e){var r=(e||"0px").split(/\s+/).map((function(e){var r=/^(-?\d*\.?\d+)(px|%)$/.exec(e);if(!r)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(r[1]),unit:r[2]}}));return r[1]=r[1]||r[0],r[2]=r[2]||r[0],r[3]=r[3]||r[1],r},IntersectionObserver.prototype._monitorIntersections=function(r){var n=r.defaultView;if(n&&-1==this._monitoringDocuments.indexOf(r)){var o=this._checkForIntersections,i=null,s=null;this.POLL_INTERVAL?i=n.setInterval(o,this.POLL_INTERVAL):(addEvent(n,"resize",o,!0),addEvent(r,"scroll",o,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in n&&(s=new n.MutationObserver(o)).observe(r,{attributes:!0,childList:!0,characterData:!0,subtree:!0})),this._monitoringDocuments.push(r),this._monitoringUnsubscribes.push((function(){var e=r.defaultView;e&&(i&&e.clearInterval(i),removeEvent(e,"resize",o,!0)),removeEvent(r,"scroll",o,!0),s&&s.disconnect()}));var a=this.root&&(this.root.ownerDocument||this.root)||e;if(r!=a){var u=getFrameElement(r);u&&this._monitorIntersections(u.ownerDocument)}}},IntersectionObserver.prototype._unmonitorIntersections=function(r){var n=this._monitoringDocuments.indexOf(r);if(-1!=n){var o=this.root&&(this.root.ownerDocument||this.root)||e,i=this._observationTargets.some((function(e){var n=e.element.ownerDocument;if(n==r)return!0;for(;n&&n!=o;){var i=getFrameElement(n);if((n=i&&i.ownerDocument)==r)return!0}return!1}));if(!i){var s=this._monitoringUnsubscribes[n];if(this._monitoringDocuments.splice(n,1),this._monitoringUnsubscribes.splice(n,1),s(),r!=o){var a=getFrameElement(r);a&&this._unmonitorIntersections(a.ownerDocument)}}}},IntersectionObserver.prototype._unmonitorAllIntersections=function(){var e=this._monitoringUnsubscribes.slice(0);this._monitoringDocuments.length=0,this._monitoringUnsubscribes.length=0;for(var r=0;r<e.length;r++)e[r]()},IntersectionObserver.prototype._checkForIntersections=function(){if(this.root||!n||o){var e=this._rootIsInDom(),r=e?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach((function(o){var i=o.element,s=getBoundingClientRect(i),a=this._rootContainsTarget(i),u=o.entry,h=e&&a&&this._computeTargetAndRootIntersection(i,s,r),c=null;this._rootContainsTarget(i)?n&&!this.root||(c=r):c={top:0,bottom:0,left:0,right:0,width:0,height:0};var l=o.entry=new IntersectionObserverEntry({time:window.performance&&performance.now&&performance.now(),target:i,boundingClientRect:s,rootBounds:c,intersectionRect:h});u?e&&a?this._hasCrossedThreshold(u,l)&&this._queuedEntries.push(l):u&&u.isIntersecting&&this._queuedEntries.push(l):this._queuedEntries.push(l)}),this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)}},IntersectionObserver.prototype._computeTargetAndRootIntersection=function(r,i,s){if("none"!=window.getComputedStyle(r).display){for(var a,u,h,c,l,d,f,p,y=i,m=getParentNode(r),b=!1;!b&&m;){var v=null,g=1==m.nodeType?window.getComputedStyle(m):{};if("none"==g.display)return null;if(m==this.root||9==m.nodeType)if(b=!0,m==this.root||m==e)n&&!this.root?!o||0==o.width&&0==o.height?(m=null,v=null,y=null):v=o:v=s;else{var w=getParentNode(m),_=w&&getBoundingClientRect(w),E=w&&this._computeTargetAndRootIntersection(w,_,s);_&&E?(m=w,v=convertFromParentRect(_,E)):(m=null,y=null)}else{var I=m.ownerDocument;m!=I.body&&m!=I.documentElement&&"visible"!=g.overflow&&(v=getBoundingClientRect(m))}if(v&&(a=v,u=y,h=void 0,c=void 0,l=void 0,d=void 0,f=void 0,p=void 0,h=Math.max(a.top,u.top),c=Math.min(a.bottom,u.bottom),l=Math.max(a.left,u.left),d=Math.min(a.right,u.right),p=c-h,y=(f=d-l)>=0&&p>=0&&{top:h,bottom:c,left:l,right:d,width:f,height:p}||null),!y)break;m=m&&getParentNode(m)}return y}},IntersectionObserver.prototype._getRootRect=function(){var r;if(this.root&&!isDoc(this.root))r=getBoundingClientRect(this.root);else{var n=isDoc(this.root)?this.root:e,o=n.documentElement,i=n.body;r={top:0,left:0,right:o.clientWidth||i.clientWidth,width:o.clientWidth||i.clientWidth,bottom:o.clientHeight||i.clientHeight,height:o.clientHeight||i.clientHeight}}return this._expandRectByRootMargin(r)},IntersectionObserver.prototype._expandRectByRootMargin=function(e){var r=this._rootMarginValues.map((function(r,n){return"px"==r.unit?r.value:r.value*(n%2?e.width:e.height)/100})),n={top:e.top-r[0],right:e.right+r[1],bottom:e.bottom+r[2],left:e.left-r[3]};return n.width=n.right-n.left,n.height=n.bottom-n.top,n},IntersectionObserver.prototype._hasCrossedThreshold=function(e,r){var n=e&&e.isIntersecting?e.intersectionRatio||0:-1,o=r.isIntersecting?r.intersectionRatio||0:-1;if(n!==o)for(var i=0;i<this.thresholds.length;i++){var s=this.thresholds[i];if(s==n||s==o||s<n!=s<o)return!0}},IntersectionObserver.prototype._rootIsInDom=function(){return!this.root||containsDeep(e,this.root)},IntersectionObserver.prototype._rootContainsTarget=function(r){var n=this.root&&(this.root.ownerDocument||this.root)||e;return containsDeep(n,r)&&(!this.root||n==r.ownerDocument)},IntersectionObserver.prototype._registerInstance=function(){r.indexOf(this)<0&&r.push(this)},IntersectionObserver.prototype._unregisterInstance=function(){var e=r.indexOf(this);-1!=e&&r.splice(e,1)},window.IntersectionObserver=IntersectionObserver,window.IntersectionObserverEntry=IntersectionObserverEntry}function getFrameElement(e){try{return e.defaultView&&e.defaultView.frameElement||null}catch(e){return null}}function IntersectionObserverEntry(e){this.time=e.time,this.target=e.target,this.rootBounds=ensureDOMRect(e.rootBounds),this.boundingClientRect=ensureDOMRect(e.boundingClientRect),this.intersectionRect=ensureDOMRect(e.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0}),this.isIntersecting=!!e.intersectionRect;var r=this.boundingClientRect,n=r.width*r.height,o=this.intersectionRect,i=o.width*o.height;this.intersectionRatio=n?Number((i/n).toFixed(4)):this.isIntersecting?1:0}function IntersectionObserver(e,r){var n=r||{};if("function"!=typeof e)throw new Error("callback must be a function");if(n.root&&1!=n.root.nodeType&&9!=n.root.nodeType)throw new Error("root must be a Document or Element");this._checkForIntersections=function throttle(e,r){var n=null;return function(){n||(n=setTimeout((function(){e(),n=null}),r))}}(this._checkForIntersections.bind(this),this.THROTTLE_TIMEOUT),this._callback=e,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(n.rootMargin),this.thresholds=this._initThresholds(n.threshold),this.root=n.root||null,this.rootMargin=this._rootMarginValues.map((function(e){return e.value+e.unit})).join(" "),this._monitoringDocuments=[],this._monitoringUnsubscribes=[]}function addEvent(e,r,n,o){"function"==typeof e.addEventListener?e.addEventListener(r,n,o||!1):"function"==typeof e.attachEvent&&e.attachEvent("on"+r,n)}function removeEvent(e,r,n,o){"function"==typeof e.removeEventListener?e.removeEventListener(r,n,o||!1):"function"==typeof e.detatchEvent&&e.detatchEvent("on"+r,n)}function getBoundingClientRect(e){var r;try{r=e.getBoundingClientRect()}catch(e){}return r?(r.width&&r.height||(r={top:r.top,right:r.right,bottom:r.bottom,left:r.left,width:r.right-r.left,height:r.bottom-r.top}),r):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function ensureDOMRect(e){return!e||"x"in e?e:{top:e.top,y:e.top,bottom:e.bottom,left:e.left,x:e.left,right:e.right,width:e.width,height:e.height}}function convertFromParentRect(e,r){var n=r.top-e.top,o=r.left-e.left;return{top:n,left:o,height:r.height,width:r.width,bottom:n+r.height,right:o+r.width}}function containsDeep(e,r){for(var n=r;n;){if(n==e)return!0;n=getParentNode(n)}return!1}function getParentNode(r){var n=r.parentNode;return 9==r.nodeType&&r!=e?getFrameElement(r):(n&&n.assignedSlot&&(n=n.assignedSlot.parentNode),n&&11==n.nodeType&&n.host?n.host:n)}function isDoc(e){return e&&9===e.nodeType}}();
//# sourceMappingURL=polyfill.min.js.map