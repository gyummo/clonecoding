var _tiller_coachmark=function(){"use strict";function S(){}const V=t=>t;function W(t){return t()}function X(){return Object.create(null)}function y(t){t.forEach(W)}function R(t){return typeof t=="function"}function q(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function mt(t){return Object.keys(t).length===0}const Z=typeof window!="undefined";let gt=Z?()=>window.performance.now():()=>Date.now(),D=Z?t=>requestAnimationFrame(t):S;const $=new Set;function tt(t){$.forEach(e=>{e.c(t)||($.delete(e),e.f())}),$.size!==0&&D(tt)}function yt(t){let e;return $.size===0&&D(tt),{promise:new Promise(o=>{$.add(e={c:t,f:o})}),abort(){$.delete(e)}}}function et(t,e){t.appendChild(e)}function nt(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function $t(t){const e=z("style");return wt(nt(t),e),e.sheet}function wt(t,e){return et(t.head||t,e),e.sheet}function H(t,e,o){t.insertBefore(e,o||null)}function x(t){t.parentNode&&t.parentNode.removeChild(t)}function z(t){return document.createElement(t)}function bt(t){return document.createTextNode(t)}function ot(){return bt("")}function vt(t,e,o,n){return t.addEventListener(e,o,n),()=>t.removeEventListener(e,o,n)}function kt(t){return function(e){return e.preventDefault(),t.call(this,e)}}function rt(t,e,o){o==null?t.removeAttribute(e):t.getAttribute(e)!==o&&t.setAttribute(e,o)}function Et(t){return Array.from(t.childNodes)}function it(t,e,o){t.classList[o?"add":"remove"](e)}function St(t,e,{bubbles:o=!1,cancelable:n=!1}={}){const r=document.createEvent("CustomEvent");return r.initCustomEvent(t,o,n,e),r}const A=new Map;let M=0;function xt(t){let e=5381,o=t.length;for(;o--;)e=(e<<5)-e^t.charCodeAt(o);return e>>>0}function Nt(t,e){const o={stylesheet:$t(e),rules:{}};return A.set(t,o),o}function st(t,e,o,n,r,i,c,s=0){const u=16.666/n;let l=`{
`;for(let g=0;g<=1;g+=u){const E=e+(o-e)*i(g);l+=g*100+`%{${c(E,1-E)}}
`}const d=l+`100% {${c(o,1-o)}}
}`,a=`__svelte_${xt(d)}_${s}`,m=nt(t),{stylesheet:f,rules:p}=A.get(m)||Nt(m,t);p[a]||(p[a]=!0,f.insertRule(`@keyframes ${a} ${d}`,f.cssRules.length));const h=t.style.animation||"";return t.style.animation=`${h?`${h}, `:""}${a} ${n}ms linear ${r}ms 1 both`,M+=1,a}function Lt(t,e){const o=(t.style.animation||"").split(", "),n=o.filter(e?i=>i.indexOf(e)<0:i=>i.indexOf("__svelte")===-1),r=o.length-n.length;r&&(t.style.animation=n.join(", "),M-=r,M||Ct())}function Ct(){D(()=>{M||(A.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&x(e)}),A.clear())})}let N;function L(t){N=t}function Ot(){if(!N)throw new Error("Function called outside component initialization");return N}function At(t){Ot().$$.on_mount.push(t)}const w=[],B=[];let b=[];const F=[],Mt=Promise.resolve();let I=!1;function Tt(){I||(I=!0,Mt.then(ct))}function C(t){b.push(t)}function jt(t){F.push(t)}const J=new Set;let v=0;function ct(){if(v!==0)return;const t=N;do{try{for(;v<w.length;){const e=w[v];v++,L(e),Pt(e.$$)}}catch(e){throw w.length=0,v=0,e}for(L(null),w.length=0,v=0;B.length;)B.pop()();for(let e=0;e<b.length;e+=1){const o=b[e];J.has(o)||(J.add(o),o())}b.length=0}while(w.length);for(;F.length;)F.pop()();I=!1,J.clear(),L(t)}function Pt(t){if(t.fragment!==null){t.update(),y(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(C)}}function Rt(t){const e=[],o=[];b.forEach(n=>t.indexOf(n)===-1?e.push(n):o.push(n)),o.forEach(n=>n()),b=e}let O;function qt(){return O||(O=Promise.resolve(),O.then(()=>{O=null})),O}function G(t,e,o){t.dispatchEvent(St(`${e?"intro":"outro"}${o}`))}const T=new Set;let _;function Dt(){_={r:0,c:[],p:_}}function Ht(){_.r||y(_.c),_=_.p}function k(t,e){t&&t.i&&(T.delete(t),t.i(e))}function j(t,e,o,n){if(t&&t.o){if(T.has(t))return;T.add(t),_.c.push(()=>{T.delete(t),n&&(o&&t.d(1),n())}),t.o(e)}else n&&n()}const zt={duration:0};function ut(t,e,o,n){const r={direction:"both"};let i=e(t,o,r),c=n?0:1,s=null,u=null,l=null;function d(){l&&Lt(t,l)}function a(f,p){const h=f.b-c;return p*=Math.abs(h),{a:c,b:f.b,d:h,duration:p,start:f.start,end:f.start+p,group:f.group}}function m(f){const{delay:p=0,duration:h=300,easing:g=V,tick:E=S,css:Q}=i||zt,U={start:gt()+p,b:f};f||(U.group=_,_.r+=1),s||u?u=U:(Q&&(d(),l=st(t,c,f,h,p,g,Q)),f&&E(0,1),s=a(U,h),C(()=>G(t,f,"start")),yt(P=>{if(u&&P>u.start&&(s=a(u,h),u=null,G(t,s.b,"start"),Q&&(d(),l=st(t,c,s.b,s.duration,0,g,i.css))),s){if(P>=s.end)E(c=s.b,1-c),G(t,s.b,"end"),u||(s.b?d():--s.group.r||y(s.group.c)),s=null;else if(P>=s.start){const te=P-s.start;c=s.a+s.d*g(te/s.duration),E(c,1-c)}}return!!(s||u)}))}return{run(f){R(i)?qt().then(()=>{i=i(r),m(f)}):m(f)},end(){d(),s=u=null}}}function Bt(t,e,o){const n=t.$$.props[e];n!==void 0&&(t.$$.bound[n]=o,o(t.$$.ctx[n]))}function Ft(t){t&&t.c()}function lt(t,e,o,n){const{fragment:r,after_update:i}=t.$$;r&&r.m(e,o),n||C(()=>{const c=t.$$.on_mount.map(W).filter(R);t.$$.on_destroy?t.$$.on_destroy.push(...c):y(c),t.$$.on_mount=[]}),i.forEach(C)}function ft(t,e){const o=t.$$;o.fragment!==null&&(Rt(o.after_update),y(o.on_destroy),o.fragment&&o.fragment.d(e),o.on_destroy=o.fragment=null,o.ctx=[])}function It(t,e){t.$$.dirty[0]===-1&&(w.push(t),Tt(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function K(t,e,o,n,r,i,c,s=[-1]){const u=N;L(t);const l=t.$$={fragment:null,ctx:[],props:i,update:S,not_equal:r,bound:X(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:X(),dirty:s,skip_bound:!1,root:e.target||u.$$.root};c&&c(l.root);let d=!1;if(l.ctx=o?o(t,e.props||{},(a,m,...f)=>{const p=f.length?f[0]:m;return l.ctx&&r(l.ctx[a],l.ctx[a]=p)&&(!l.skip_bound&&l.bound[a]&&l.bound[a](p),d&&It(t,a)),m}):[],l.update(),d=!0,y(l.before_update),l.fragment=n?n(l.ctx):!1,e.target){if(e.hydrate){const a=Et(e.target);l.fragment&&l.fragment.l(a),a.forEach(x)}else l.fragment&&l.fragment.c();e.intro&&k(t.$$.fragment),lt(t,e.target,e.anchor,e.customElement),ct()}L(u)}class Y{$destroy(){ft(this,1),this.$destroy=S}$on(e,o){if(!R(o))return S;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(o),()=>{const r=n.indexOf(o);r!==-1&&n.splice(r,1)}}$set(e){this.$$set&&!mt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function at(t,{delay:e=0,duration:o=400,easing:n=V}={}){const r=+getComputedStyle(t).opacity;return{delay:e,duration:o,easing:n,css:i=>`opacity: ${i*r}`}}function dt(t){let e,o,n,r,i,c;return{c(){e=z("div"),o=z("p"),rt(o,"class","desc_coach"),rt(e,"class","layer_coach"),it(e,"open",t[1])},m(s,u){H(s,e,u),et(e,o),o.innerHTML=t[0],r=!0,i||(c=vt(e,"click",kt(t[3])),i=!0)},p(s,u){(!r||u&1)&&(o.innerHTML=s[0]),(!r||u&2)&&it(e,"open",s[1])},i(s){r||(C(()=>{!r||(n||(n=ut(e,at,{},!0)),n.run(1))}),r=!0)},o(s){n||(n=ut(e,at,{},!1)),n.run(0),r=!1},d(s){s&&x(e),s&&n&&n.end(),i=!1,c()}}}function Jt(t){let e,o,n=t[1]&&dt(t);return{c(){n&&n.c(),e=ot()},m(r,i){n&&n.m(r,i),H(r,e,i),o=!0},p(r,[i]){r[1]?n?(n.p(r,i),i&2&&k(n,1)):(n=dt(r),n.c(),k(n,1),n.m(e.parentNode,e)):n&&(Dt(),j(n,1,1,()=>{n=null}),Ht())},i(r){o||(k(n),o=!0)},o(r){j(n),o=!1},d(r){n&&n.d(r),r&&x(e)}}}function Gt(t,e,o){let{message:n}=e,{needLogin:r}=e,i;At(()=>{o(1,i=r&&document.querySelector(".wrap_user")||!r)});const c=()=>{o(1,i=!1)};return t.$$set=s=>{"message"in s&&o(0,n=s.message),"needLogin"in s&&o(2,r=s.needLogin)},[n,i,r,c]}class Kt extends Y{constructor(e){super(),K(this,e,Gt,Jt,q,{message:0,needLogin:2})}}const Yt=[];function Qt(t,e,o){let{tooltips:n}=e;const r=i=>{const{target:c,message:s,needLogin:u,id:l}=i;n.includes(l)||u&&!document.querySelector(".wrap_user")||(new Kt({target:document.querySelector(c),props:{message:s,needLogin:u}}),o(0,n=[...n,l]))};for(const i of Yt)r(i);return t.$$set=i=>{"tooltips"in i&&o(0,n=i.tooltips)},[n]}class Ut extends Y{constructor(e){super(),K(this,e,Qt,null,q,{tooltips:0})}}function Vt(t){let e,o,n;function r(c){t[2](c)}let i={};return t[0]!==void 0&&(i.tooltips=t[0]),e=new Ut({props:i}),B.push(()=>Bt(e,"tooltips",r)),{c(){Ft(e.$$.fragment)},m(c,s){lt(e,c,s),n=!0},p(c,s){const u={};!o&&s&1&&(o=!0,u.tooltips=c[0],jt(()=>o=!1)),e.$set(u)},i(c){n||(k(e.$$.fragment,c),n=!0)},o(c){j(e.$$.fragment,c),n=!1},d(c){ft(e,c)}}}function Wt(t){let e,o,n=t[1]&&t[1].enabled*1&&Vt(t);return{c(){n&&n.c(),e=ot()},m(r,i){n&&n.m(r,i),H(r,e,i),o=!0},p(r,[i]){r[1]&&r[1].enabled*1&&n.p(r,i)},i(r){o||(k(n),o=!0)},o(r){j(n),o=!1},d(r){n&&n.d(r),r&&x(e)}}}const pt="coachmark",_t=3;function Xt(t,e,o){var u,l;const n=((u=window.tiller.addon)==null?void 0:u.coachmark)||{version:0,enabled:"1"},r=JSON.parse(localStorage.getItem(pt))||{step:_t,version:n.version,tooltips:[]};(n.version!==r.version||((l=window.tiller.hashtags)==null?void 0:l.includes("coachmark")))&&(r.step=_t,r.tooltips=[]);let i=r.step,c=r.tooltips;setTimeout(()=>{window.tillerHappyBirthday&&window.tillerHappyBirthday()},1e3);function s(d){c=d,o(0,c)}return t.$$.update=()=>{t.$$.dirty&1&&localStorage.setItem(pt,JSON.stringify({step:i,version:n.version,tooltips:c}))},[c,n,s]}class Zt extends Y{constructor(e){super(),K(this,e,Xt,Wt,q,{})}}let ht;return window.playingCoachMark||(ht=new Zt({target:document.body}),window.playingCoachMark=!0),ht}();
