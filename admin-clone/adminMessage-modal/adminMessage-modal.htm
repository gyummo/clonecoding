<!DOCTYPE html>
<html lang="ko" >

<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<link rel="stylesheet" type="text/css" href="./adminMessage-modal_files/bootstrap.css" >
	<link rel="stylesheet" type="text/css" href="./adminMessage-modal_files/dashboard.css" >
	<link rel="stylesheet" type="text/css" href="./adminMessage-modal_files/tailwind.css" >
	<link rel="stylesheet" type="text/css" href="./adminMessage-modal_files/admin.css" >
</head>

<body class="menubar-hoverable header-fixed menubar-pin sidebar-mini" >
    <input type="hidden" id="USE_OMS" value="on" >
                <!-- BEGIN BASE-->
    <div id="dashboard_loader" class="se-pre-con" style="display: none; adminMessage-modal">
        <div class="page-loader-spinner" >
            <div class="double-bounce1" ></div>
            <div class="double-bounce2" ></div>
        </div>
        <div class="progress" >
            <div class="progress-bar" role="progressbar" style="width: 70%; adminMessage-modal">
                <label >70%</label>
            </div>
        </div>
    </div>
    <div id="base" >
            
    <script >
        document.addEventListener('DOMContentLoaded', function() {
            const alertBox = document.querySelector('#alertBox');
            const contentArea = document.querySelector('#content');
            alertBox?.classList.remove('alert__wrap-fixed');
            alertBox?.classList.add('alert__wrap');
            if ( contentArea && alertBox ) contentArea.prepend(alertBox);
        });
    </script>        <!-- END OFFCANVAS LEFT --><script type="text/javascript" >
	$(function(){
		SADMIN_MENU_ALERT.openAlert();
	});
</script><header class="top_header" >
	<div class="headerbar" >
		<div class="headerbar-left" >
			<ul class="header-nav header-nav-options" >
                <li class="hidden-lg hidden-md" >
                    <a class="btn btn-icon-toggle menubar-toggle" data-toggle="menubar" href="javascript:void(0);" >
                        <img src="./adminMessage-modal_files/icon-bo-menu-01.svg" >
                    </a>
                </li>
				<li class="header-nav-brand" >
					<div class="brand-holder" >
						<span class="location_text" >
							<a href="https://qjfhdnaos51106.imweb.me/admin/member/send" >메시지 보내기</a>						</span>
					</div>
				</li>
			</ul>
		</div>

		<div class="headerbar-right" >
			<ul class="header-nav header-nav-options" >
								<li >
									</li>
			</ul><!--end .header-nav-options -->
		</div><!--끝 #header-navbar-collapse -->
		<!--끝 #header-navbar-collapse -->
	</div>
</header>
<div id="content" ><div id="alertBox" class="alert__wrap" >    </div>
	<section >
		<div class="section-body" >
			<div class="tab-pane" id="daily" >
				<div class="row" >
					<div class="col-md-12" >
						<div class="card" >
							<div class="card-head style-default-light" >
								<header >메시지 보내기</header>
								<ul class="nav nav-tabs" >
									<li class="active" >
										<a href="https://qjfhdnaos51106.imweb.me/admin/member/send/?mode=alarm" >알림</a>
									</li>
																		<!-- <li ><a href="javascript:;" onclick="$.cocoaDialog.open({type:'alert',terms:''},function(){});">E-Mail</a></li>-->
																												<li ><a href="https://qjfhdnaos51106.imweb.me/admin/member/send/?mode=sms" >SMS</a>
										</li>
																		<!--보류
									<li><a href="user-msg-message.html">쪽지</a></li>
									<li><a href="user-msg-invite.html">초대</a></li>
									-->
								</ul>
							</div>
							<div class="card-head" >
	<header >알림 보내기 <a href="javascript:" class="text-gray" role="button" data-toggle="popover" data-trigger="focus" tabindex="0" data-placement="top" title="" data-content="알림으로 회원들에게 중요한 소식을 무료로 전달할 수 있습니다. App에서는 실시간으로 알림을 확인할 수 있으며, 비회원도 알림 수신이 가능합니다." data-original-title="알림 보내기" ><i class="btm bt-question-circle" style="font-size: 14px; vertical-align: middle; adminMessage-modal"></i></a></header>
</div>
<div class="card-body" >
	<form role="form" class="form-horizontal form-validate" novalidate="novalidate" >
        <input type="hidden" id="alarm_token" value="Zb4Ke+hn1DAFB6+w5pOiK5Hn8DkG/JMr00K3BlnirD64UCmfn1rxykdQ9hQXcXIquHUyhUfD4QJkViEW5YyswTBOmxOHEkgmhX+Vbn7OmG+ybnSWm2nFJhIK8D4onP3a" >
        <input type="hidden" id="alarm_token_key" value="589" >
		<div class="form-group" >
			<div class="col-sm-10" >
				<div class="alarm-menu on-click width-5" >
					<a class="form-control" data-toggle="dropdown" aria-expanded="" ><span id="alarm_group_list_selected" >선택하지 않음</span></a><div class="form-control-line" ></div>
					<div class="dropdown-menu" onclick="event.cancelBubble=true" style="width: 260px; adminMessage-modal">
						<ul style="top: 50px; adminMessage-modal">
							<li >
								<div class="check" >
									<div class="checkbox checkbox-styled" >
										<label class="form-label" >
											<input type="checkbox" class="alarm_group_list_all" onclick="changeAlarmCheckAll($(this).prop(&#39;checked&#39;));" >
											<span >전체회원</span>
										</label>
									</div>
								</div>
							</li>
														<li >
								<div class="check" >
									<div class="checkbox checkbox-styled" >
										<label class="form-label disabled" >
											<input type="checkbox" class="alarm_group_list alarm_group_list_nogroup" value="nogroup" name="alarm_group_list[]" onclick="return changeAlarmCheck()" >
											<span >그룹없음</span>
										</label>
									</div>
								</div>
							</li>
							<li class="divider" ></li>                            <li >
                                <div class="check" >
                                    <div class="checkbox checkbox-styled" >
                                        <label class="form-label disabled" >
                                            <input type="checkbox" class="alarm_group_list alarm_group_list_crm" value="crm-s202405212d7297b7022c6" name="alarm_group_list[]" onclick="return changeAlarmCheck()" >
                                            <span >24년&nbsp;04월&nbsp;21일&nbsp;~&nbsp;24년&nbsp;05월&nbsp;20일&nbsp;동안&nbsp;결제&nbsp;금액&nbsp;10,000원&nbsp;이상인&nbsp;회원&nbsp;보기</span>
                                        </label>
                                    </div>
                                </div>
                            </li>
                                                        <li >
                                <div class="check" >
                                    <div class="checkbox checkbox-styled" >
                                        <label class="form-label disabled" >
                                            <input type="checkbox" class="alarm_group_list alarm_group_list_crm" value="crm-s2024052133764eda1696e" name="alarm_group_list[]" onclick="return changeAlarmCheck()" >
                                            <span >현재&nbsp;장바구니에&nbsp;상품&nbsp;1개&nbsp;이상&nbsp;담고있는&nbsp;회원&nbsp;보기</span>
                                        </label>
                                    </div>
                                </div>
                            </li>
                                                        <li >
                                <div class="check" >
                                    <div class="checkbox checkbox-styled" >
                                        <label class="form-label disabled" >
                                            <input type="checkbox" class="alarm_group_list alarm_group_list_crm" value="crm-s2024052176b7743ba920c" name="alarm_group_list[]" onclick="return changeAlarmCheck()" >
                                            <span >24년&nbsp;04월&nbsp;21일&nbsp;~&nbsp;24년&nbsp;05월&nbsp;20일&nbsp;동안&nbsp;주문건수&nbsp;1건&nbsp;이상인&nbsp;회원&nbsp;보기</span>
                                        </label>
                                    </div>
                                </div>
                            </li>
                            

						</ul>
											</div>
				</div>

				<span class="help-block" >개별 회원에게 보내고 싶으시면 <a href="https://qjfhdnaos51106.imweb.me/admin/member/list" class="text-primary" >사용자 목록</a>에서 사용자를 선택하여 발송하세요.<br >iOS 또는 안드로이드 사용자에게 알림(푸시)은 100% 도달을 보장하지 않습니다. <a href="javascript:;" class="text-primary" data-toggle="modal" data-target="#noPush-help" >자세히 알아보기</a><br >휴면 사용자는 별도 보관처리되어 알림이 전송되지 않습니다.</span>
			</div>
		</div>
		<div class="form-group" >
			<div class="col-sm-10" >
				<input type="text" required="" name="alarm_subject" id="alarm_subject" class="form-control" aria-required="true" placeholder="제목" ><div class="form-control-line" ></div>
			</div>
		</div>
		<div class="form-group" >
			<div class="col-sm-12" >
				<textarea rows="3" required="" name="alarm_content" id="alarm_content" class="form-control" maxlength="925" placeholder="내용" aria-required="true" data-autosize-on="true" style="overflow: hidden; overflow-wrap: break-word; resize: horizontal; height: 96px; adminMessage-modal"></textarea><div class="form-control-line" ></div>
				<p class="help-block chars" id="chars_app_title" >0/2500</p>
			</div>
		</div>
		<div class="form-group" >
			<div class="col-sm-10" >
				<input type="text" name="alarm_url" id="alarm_url" class="form-control" placeholder="URL 입력(선택사항)" ><div class="form-control-line" ></div>
			</div>
		</div>
		<div class="form-group" >
			<div class="col-sm-10" >
				<div class="wrap-image-upload style-default-bright margin-bottom-xl" >
					<div class="image-list no-padding" >
						<div class="item" id="alarm_img_group" style="display: none; adminMessage-modal">
							<img id="alarm_img" >
							<a href="javascript:" class="close" onclick="remove_alarm_img()" ><i class="zmdi zmdi-close" ></i></a>
						</div>
					</div>
				</div>
				<div class="btn btn-file ink-reaction btn-raised btn-default-bright margin-bottom-lg btn-sm" id="fileupload_img" accept="image/jpeg, image/jpg, image/png, image/gif, image/svg+xml" >
					이미지 첨부<input type="file" name="files[]" style="width: 100%; adminMessage-modal">
				</div>
				<span class="help-block" >권장 해상도 : 720 x 320</span>
			</div>
		</div>

		<div class="form-group" >
			<div class="col-sm-10" >
				<div style="max-width: 300px; adminMessage-modal">
					<div class="checkbox checkbox-styled" >
						<label >
							<input type="checkbox" value="ok" name="is_booking" >
							<span >예약발송</span>
						</label>
					</div>
					<div style="position: relative; adminMessage-modal">
						<input type="text" class="form-control" id="datetimepicker" placeholder="보낼 날짜와 시간을 입력해주세요" name="booking_time" disabled="" ><div class="form-control-line" ></div><div class="form-control-line" ></div>
					</div>
				</div>
			</div>
		</div>

	</form>
</div>
<div class="card-actionbar" >
	<div class="card-actionbar-row" >
		<a class="btn btn-raised btn-primary ink-reaction" id="sendsms" onclick="send_alarm()" >보내기</a>
	</div>
</div>
</div>
</div><!--end.col-->
</div><!--end.row-->
<div class="modal fade" id="noPush-help" tabindex="-1" role="dialog" aria-labelledby="noPush-helpLabel" >
	<div class="modal-dialog" role="document" >
		<div class="modal-content" >
			<div class="modal-header" >
				<button type="button" class="close" data-dismiss="modal" aria-label="Close" ><i class="btl bt-times" ></i></button>
				<h3 class="modal-title" id="myModalLabel" >스마트폰에 알림(푸시)이 수신되지 않는 이유</h3>
			</div>
			<div class="modal-body" >
				<p >다음과 같은 상황에서 푸시(알림)이 기기로 전송되지 않을 수 있습니다.</p>
				<h4 ><strong >기기 공통</strong></h4>
				<ul class="description-list" >
					<li >앱 설치 후 한 번도 실행하지 않거나 로그인 하지 않은 경우</li>
					<li >비행기 모드 등으로 인해 백그라운드 데이터 및 동기화가 활성화되지 않은 경우</li>
					<li >Google 또는 Apple 푸시 서버에 문제가 발생한 경우</li>
				</ul>
				<hr >
				<h4 ><strong >안드로이드 기기</strong></h4>
				<ul class="description-list" >
					<li >Google Play Services가 설치되지 않은 기기(중국에서 판매된 기기 또는 에뮬레이터 등)</li>
					<li >Google 계정에 로그인이 되지 않은 경우</li><li >오래 사용하지 않다가 다시 사용한 경우(Google 계정 재로그인 필요)</li><li >Google 계정 정보 변경 등으로 인해 캐시 데이터에 문제가 발생한 경우 기기에서 아래 단계를 수행하세요.
					<ol class="description-list" style="margin-top: 5px; adminMessage-modal">
						<li >설정 &gt; 애플리케이션 관리로 진입</li>
						<li >구글 플레이 서비스(Google Play Service) 와 구글 서비스 프레임워크(Google Service Framework) 에서 데이터 삭제</li>
						<li >연동된 구글 계정을 모두 삭제</li>
						<li >스마트폰 재부팅</li>
						<li >연동된 구글 계정 다시 추가</li>
					</ol>
					</li>
				</ul>
				<hr >
				<h4 ><strong >iOS 기기</strong></h4>
				<ul class="description-list" >
					<li >반복적으로 비슷한 내용을 여러차례 보내 Apple 스팸필터링이 적용된 경우</li>
				</ul>			</div>
			<div class="modal-footer" >
				<button type="button" class="btn btn-default btn-flat" data-dismiss="modal" >닫기</button>
			</div>
		</div>
	</div>
</div>
<!-- end.빈상태-->
<div class="row" >
<div class="col-md-6" >
    <div class="card style-default" >
        <div class="card-body large-padding" >
            <div class="text-center text-xxxxl text-gray-bright" ><i class="zmdi zmdi-comment-alert" ></i></div>
            <p class="text-center text-gray-light" >최근 30일간 발송된 알림이 없습니다.</p>
        </div>
    </div>
</div>

			<div class="col-md-6" >
			<div class="card style-default" >
				<div class="card-body large-padding" >
					<div class="text-center text-xxxxl text-gray-bright" ><i class="zmdi zmdi-comment-alert" ></i></div>
					<p class="text-center text-gray-light" >예약된 알림이 없습니다.</p>
				</div>
			</div>
		</div>
	</div>
<script > 
	$(function(){
		var $datetimepicker = $('#datetimepicker');
		$("#content").find("input[name='is_booking']").off("click.is_booking").on("click.is_booking",function(){

			$(this).prop("checked") ? $datetimepicker.data("DateTimePicker").enable() : $datetimepicker.data("DateTimePicker").disable();
		});

        var date_option = {
            dayViewHeaderFormat: 'YYYY MMMM',
            locale: getMomentLangCode(ADMIN_LANG_CODE),
            icons: {
                time: 'zmdi zmdi-time',
                date: 'zmdi zmdi-calendar',
                up: 'zmdi zmdi-chevron-up',
                down: 'zmdi zmdi-chevron-down',
                previous: 'zmdi zmdi-chevron-left',
                next: 'zmdi zmdi-chevron-right',
                today: 'glyphicon glyphicon-screenshot',
                clear: 'glyphicon glyphicon-trash'
            },
            format:'YYYY/MM/DD HH:mm'
        };
        $datetimepicker.datetimepicker(date_option);
        $datetimepicker.data('DateTimePicker').disable();
	});
	var alarm_img_tmp_idx = 0;
	var alarm_img = "";

	function changeAlarmCheckAll(chk){
		$("input.alarm_group_list").prop('checked', chk);
        changeCrmGroup(chk);
		changeAlarmCheck();
	}

    function changeCrmGroup(check)
    {
        if (check) {
            $("input.alarm_group_list_crm").prop('disabled', true);
            $("input.alarm_group_list_crm").prop('checked', false);
        } else {
            $("input.alarm_group_list_crm").prop('disabled', false);
        }
    }

	function changeAlarmCheck() {
        var group_cnt = $("input.alarm_group_list").length - $("input.alarm_group_list_crm").length;
		var chk_cnt = $("input.alarm_group_list:checked").length;
        var crm_cnt = $("input.alarm_group_list_crm:checked").length;
        var sel_msg = '';
		if (chk_cnt==0){
			sel_msg = LOCALIZE_ADMIN.설명_선택하지않음();
            ['alarm_group_list_group', 'alarm_group_list_nogroup', 'alarm_group_list_guest', 'alarm_group_list_all', 'alarm_group_list_crm'].forEach(function (item) {
                $("input." + item).prop('checked', false);
                $("input." + item).prop('disabled', false);
            });
		}else if (chk_cnt==group_cnt){
			$('input.alarm_group_list_all').prop('checked',true);
			sel_msg = LOCALIZE_ADMIN.설명_전체회원();
		}else{
			var sel_msg_list = [];
			if ($("input.alarm_group_list_nogroup").prop('checked')) sel_msg_list.push(LOCALIZE_ADMIN.설명_그룹없음());
			if ($("input.alarm_group_list_guest").prop('checked')) sel_msg_list.push(LOCALIZE_ADMIN.설명_비회원());
			chk_cnt = $("input.alarm_group_list_group:checked").length;
            var no_group_chk_cnt = $("input.alarm_group_list_nogroup:checked").length;
            var guest_chk_cnt = $("input.alarm_group_list_guest:checked").length;
			// if (chk_cnt>0) sel_msg_list.push(LOCALIZE_ADMIN.설명_n개그룹(chk_cnt));

            if(chk_cnt > 0 || no_group_chk_cnt > 0 || guest_chk_cnt > 0) {
                sel_msg_list.push(LOCALIZE_ADMIN.설명_n개그룹(chk_cnt));
                changeCrmGroup(true)
            } else {
                changeCrmGroup(false)
            }

            if (crm_cnt > 0) {
                ['alarm_group_list_group', 'alarm_group_list_nogroup', 'alarm_group_list_guest', 'alarm_group_list_all'].forEach(function (item) {
                    $("input." + item).prop('disabled', true);
                    $("input." + item).prop('checked', false);
                });
                sel_msg_list.push(LOCALIZE_ADMIN.설명_n개그룹(crm_cnt));
            }

			$('input.alarm_group_list_all').prop('checked',false);
			sel_msg = sel_msg_list.join(',');
		}
		$('#alarm_group_list_selected').text(sel_msg);
	}

	function send_alarm(){
		var $content = $('#content');
		var subject = $("#alarm_subject").val();
		var content = $("#alarm_content").val();
		var url = $("#alarm_url").val();
		var all_send = $('input.alarm_group_list_all').prop('checked');
		var is_booking = $content.find("input[name='is_booking']").prop('checked');
		var booking_time = $content.find("input[name='booking_time']").val();
        
        var alarm_token = $("#alarm_token").val();
        var alarm_token_key = $("#alarm_token_key").val();

		var receiver = [];
		$('input.alarm_group_list:checked').each(function(no,obj) {
            if(obj.value.includes('crm-')) {
                receiver.push({'type': 'crm', 'value': obj.value.replace('crm-', '')});
            } else if (obj.value == 'nogroup')
				receiver.push({'type': 'group', 'value': ''});
			else if (obj.value == 'guest')
				receiver.push({'type': 'guest', 'value': ''});
			else
				receiver.push({'type': 'group', 'value': obj.value});
		});

		adminMember.sendPush(receiver, subject, content, url, alarm_img_tmp_idx, alarm_img, all_send,is_booking,booking_time, alarm_token, alarm_token_key);
	}



	function remove_alarm_img(){
		alarm_img_tmp_idx = 0;
		$("#alarm_img_group").hide();
	}

	$(function(){
		$('#fileupload_img').setUploadImage({
			url: '/admin/ajax/upload_image.cm',
			formData: {temp:'Y',target: 'alarm'}
		},function(res,data){
			$.each(data,function(e,tmp){
				if(tmp.url!='') {
					$("#alarm_img_group").show();
					$('#alarm_img').attr('src',CDN_UPLOAD_URL+tmp.url);
					alarm_img = tmp.url;
					alarm_img_tmp_idx = tmp.tmp_idx;
				}else{
					alert(tmp.error);
				}
			})

		});

		var $alarm_content = $("#alarm_content");
		autosize($alarm_content);

		$(function() {
			$alarm_content.keyup(function (e){
				var content = $(this).val();
				$('#chars_app_title').html(getByteLength(content) + '/2500');
			});
		});
	});
</script>						</div>
					</div>
				</section></div>
			</div>
		
	



<script >
	function delete_alarm(alarm_idx,type){
		if (!confirm(LOCALIZE_ADMIN.설명_해당알림을삭제하시겠습니까())) return false;
		$.ajax({
			type: 'POST',
			data: {'alarm_idx': alarm_idx,'type':type},
			url: ('/admin/ajax/alarm/delete_alarm.cm'),
			dataType: 'json',
			async: false,
			cache: false,
			success: function (obj) {
				if(obj.msg == "SUCCESS"){
                    // mixpanel 알림 트래킹
                    type==='default'? mixpanel.track('complete_bo_member_message_notification_sent_item_delete',{'site_code': SITE_CODE}) : mixpanel.track('complete_bo_member_message_notification_scheduled_item_cancel',{'site_code': SITE_CODE});
                    window.location.reload();
				}else{
					alert(obj.msg);
				}
			}
		});
	}
</script>
<script >	
			$(window).on("keyup", function(e){
				if ( $.cocoaDialog.isOpen() ) {
					$.cocoaDialog.modalControl(e);
				}
				return false;
			});</script>
<!-- BEGIN MENUBAR-->
<button type="button" class="hidden-lg hidden-md toggle-btn" data-dismiss="menubar" >
	<span class="sr-only" >Toggle navigation</span>
    <img src="./adminMessage-modal_files/icon-bo-close.svg" >
</button>

<div id="menubar" class="animate" >
	<div class="nano has-scrollbar" style="height: 865px; adminMessage-modal"><div class="nano-content" tabindex="0" style="right: -17px; adminMessage-modal"><div class="menubar-scroll-panel" style="padding-bottom: 1px; adminMessage-modal">
		<div class="region-wrap full-width" >
			<a href="javascript:" class="holder global_icon_menu dropdown-toggle" data-toggle="dropdown" aria-expanded="true" >
				<div class="icon-wrap" >
					<img src="./adminMessage-modal_files/flag_kr_circle.png" class="region-icon" >
				</div>
				<div class="brand-holder" >
					<span class="title_controls" >왓이님의 웹사이트</span>
					<span class="icon" >
						<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none" >
                            <path d="M6 12L10 8.00003L6 4.00003" stroke="#717680" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round" ></path>
						</svg>
					</span>
				</div>
			</a>
			<ul class="dropdown-menu dropdown-menu-new global_setting animation-dock menu-card-styling" >					<li class="holder " >
						<a href="https://qjfhdnaos51106.imweb.me/admin/member/send" >
							<div class="tabled" >
								<div class="table-cell vertical-middle width-1" >
									<img width="30" height="30" src="./adminMessage-modal_files/flag_kr_circle.png" >
								</div>
								<div class="table-cell vertical-middle domain" style="line-height: 1.3; adminMessage-modal">
									<div class="inline-blocked" >
										<span class="domain_name" >왓이님의 웹사이트</span>
									</div>
									<span data-original-title="일반 방문자의 접속이 제한됩니다. 글로벌 버전으로 업그레이드 해주세요" data-toggle="tooltip" class="badge" data-placement="top" style="margin-left: 5px; vertical-align: top; adminMessage-modal">미결제</span>
																			<div class="text-gray-bright text-12" >qjfhdnaos51106.imweb.me</div>
																	</div>
							</div>
						</a>
						<div class="tools" >
													</div>
					</li>
					<li class="add-unit" ><a href="javascript:;" onclick="SITE_MANAGE.openAddUnit(&#39;S20240516cc656761618e8&#39;)" class="text-secondary addunit" style="display: flex; adminMessage-modal"><svg style="margin-right: 8px; adminMessage-modal" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M7.99992 3.3335V12.6668M3.33325 8.00016H12.6666" stroke="#717680" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round" ></path></svg> 새 언어 사이트 추가</a></li></ul>		</div>
		<ul id="main-menu" class="gui-controls" ><li data-prevent-menu-click="true" ><a href="javascript:;" class="_gnb_notification_button gnb_notification_button" ><div class="gui-icon" ><i class="db-bell" ></i></div><span class="title title_controls" >알림</span><span class="_badge badge_icon badge_count">1</span></a></li><li class="" data-title="design_mode" ><a href="https://qjfhdnaos51106.imweb.me/admin/design" ><div class="gui-icon" ><i class="db-wand" ></i></div><span class="title title_controls" >디자인 모드</span></a></li><li class="" data-title="preview" ><a class="external-url" href="https://qjfhdnaos51106.imweb.me/" target="_blank" ><div class="gui-icon" ><i class="db-preview" ></i></div><span class="title title_controls" >사이트 바로가기</span></a></li><li class="spacer" ></li><li class="top-menu" ><div ><span >사이트 관리</span><a href="javascript:;" class="shop-extend" onclick="DASHBOARD.openSiteManagementDialog(this);" data-original-title="쇼핑·예약 기능설정" data-toggle="tooltip" data-placement="right" data-trigger="hover" data-template="&lt;div class=&quot;tooltip custom-tooltip&quot;&gt;&lt;div class=&quot;tooltip-inner&quot;&gt;&lt;/div&gt;&lt;/div&gt;" ><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none" ><path d="M7.99998 8.6665C8.36817 8.6665 8.66665 8.36803 8.66665 7.99984C8.66665 7.63165 8.36817 7.33317 7.99998 7.33317C7.63179 7.33317 7.33331 7.63165 7.33331 7.99984C7.33331 8.36803 7.63179 8.6665 7.99998 8.6665Z" fill="#4B515B" ></path><path d="M7.99998 3.99984C8.36817 3.99984 8.66665 3.70136 8.66665 3.33317C8.66665 2.96498 8.36817 2.6665 7.99998 2.6665C7.63179 2.6665 7.33331 2.96498 7.33331 3.33317C7.33331 3.70136 7.63179 3.99984 7.99998 3.99984Z" fill="#4B515B" ></path><path d="M7.99998 13.3332C8.36817 13.3332 8.66665 13.0347 8.66665 12.6665C8.66665 12.2983 8.36817 11.9998 7.99998 11.9998C7.63179 11.9998 7.33331 12.2983 7.33331 12.6665C7.33331 13.0347 7.63179 13.3332 7.99998 13.3332Z" fill="#4B515B" ></path><path d="M7.99998 8.6665C8.36817 8.6665 8.66665 8.36803 8.66665 7.99984C8.66665 7.63165 8.36817 7.33317 7.99998 7.33317C7.63179 7.33317 7.33331 7.63165 7.33331 7.99984C7.33331 8.36803 7.63179 8.6665 7.99998 8.6665Z" stroke="#717680" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round" ></path><path d="M7.99998 3.99984C8.36817 3.99984 8.66665 3.70136 8.66665 3.33317C8.66665 2.96498 8.36817 2.6665 7.99998 2.6665C7.63179 2.6665 7.33331 2.96498 7.33331 3.33317C7.33331 3.70136 7.63179 3.99984 7.99998 3.99984Z" stroke="#717680" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round" ></path><path d="M7.99998 13.3332C8.36817 13.3332 8.66665 13.0347 8.66665 12.6665C8.66665 12.2983 8.36817 11.9998 7.99998 11.9998C7.63179 11.9998 7.33331 12.2983 7.33331 12.6665C7.33331 13.0347 7.63179 13.3332 7.99998 13.3332Z" stroke="#717680" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round" ></path></svg></a></div></li><li class="" data-title="dashboard" ><a href="https://qjfhdnaos51106.imweb.me/admin//" ><div class="gui-icon" ><i class="db-dashboard" ></i></div><span class="title title_controls" >대시보드</span></a></li><li class="active gui-folder expanded" data-title="member" ><a href="https://qjfhdnaos51106.imweb.me/admin/member" class="sidebar-nav-menu active" onclick="return false;" ><div class="gui-icon" ><i class="db-user" ></i></div><span class="title title_controls" >사용자 관리</span></a><ul><li class="  " data-title="member_list" ><a href="https://qjfhdnaos51106.imweb.me/admin/member/list" ><span class="title title_controls" >사용자 목록</span></a></li><li class="active expanded" data-title="member_msg" ><a href="https://qjfhdnaos51106.imweb.me/admin/member/send" class=" active" ><span class="title title_controls" >메시지 보내기</span></a></li><li class="  " data-title="member_permission" ><a href="https://qjfhdnaos51106.imweb.me/admin/member/permission" ><span class="title title_controls" >운영진</span></a></li><li class="  " data-title="member_mail" ><a href="https://qjfhdnaos51106.imweb.me/admin/member/mail" ><span class="title title_controls" >자동 메일</span></a></li><li class="  " data-title="member_talk" ><a href="https://qjfhdnaos51106.imweb.me/admin/member/kakao_friend" ><span class="title title_controls" >친구톡 보내기</span></a></li><li class="  " data-title="member_sms" ><a href="https://qjfhdnaos51106.imweb.me/admin/member/sms" ><span class="title title_controls" >SMS·알림톡</span></a></li></ul></li><li class="" data-title="crm_campaigns" ><a href="https://qjfhdnaos51106.imweb.me/admin/crm_campaigns" ><div class="gui-icon" ><i class="db-crm-campaigns" ></i></div><span class="title title_controls" >CRM 캠페인 자동화</span><span class="badge_new" >New</span></a></li><li class="" data-title="crm" ><a href="https://qjfhdnaos51106.imweb.me/admin/crm_marketing" ><div class="gui-icon" ><i class="db-crm" ></i></div><span class="title title_controls" >고객 행동 관리</span></a></li><li class="gui-folder" data-title="shopping" ><a href="https://qjfhdnaos51106.imweb.me/admin/shopping" class="sidebar-nav-menu" onclick="return false;" ><div class="gui-icon" ><i class="db-shopping-bag" ></i></div><span class="title title_controls" >쇼핑</span></a><ul><li class="  " data-title="shopping_product" ><a href="https://qjfhdnaos51106.imweb.me/admin/shopping/product" ><span class="title title_controls" >상품</span></a></li><li class="  " data-title="shopping_interlocking" ><a href="https://qjfhdnaos51106.imweb.me/admin/shopping/interlocking" ><span class="title title_controls" >연동 상품</span><span class="badge_beta" >Beta</span></a></li><li class="  " data-title="shopping_order_v1" ><a href="https://qjfhdnaos51106.imweb.me/admin/shopping/order-v1" ><span class="title title_controls" >주문관리 v2</span><span class="badge_new" >New</span></a></li><li class="  " data-title="shopping_regularly" ><a href="https://qjfhdnaos51106.imweb.me/admin/shopping/regularly" ><span class="title title_controls" >정기구독</span></a></li><li class="  " data-title="shopping_gift" ><a href="https://qjfhdnaos51106.imweb.me/admin/shopping/gift" ><span class="title title_controls" >선물하기</span><span class="badge_new" >New</span></a></li><li class="  " data-title="shopping_review" ><a href="https://qjfhdnaos51106.imweb.me/admin/shopping/review" ><span class="title title_controls" >구매평</span></a></li><li class="  " data-title="shopping_answers" ><a href="https://qjfhdnaos51106.imweb.me/admin/shopping/answers" ><span class="title title_controls" >문의</span></a></li><li class="  " data-title="member_mileage" ><a href="https://qjfhdnaos51106.imweb.me/admin/shopping/mileage" ><span class="title title_controls" >적립금</span></a></li><li class="  " data-title="shopping_coupon" ><a href="https://qjfhdnaos51106.imweb.me/admin/shopping/coupon" ><span class="title title_controls" >쿠폰</span></a></li><li class="  " data-title="shopping_shipping" ><a href="https://qjfhdnaos51106.imweb.me/admin/shopping/shipping" ><span class="title title_controls" >배송설정</span></a></li><li class="  " data-title="shopping_config" ><a href="https://qjfhdnaos51106.imweb.me/admin/shopping/config" ><span class="title title_controls" >환경설정</span></a></li></ul></li><li class="gui-folder animated animated-hidden" data-title="booking" ><a href="https://qjfhdnaos51106.imweb.me/admin/booking" class="sidebar-nav-menu" onclick="return false;" ><div class="gui-icon" ><i class="db-calendar" ></i></div><span class="title title_controls" >예약</span></a><ul><li class="  " data-title="booking_product" ><a href="https://qjfhdnaos51106.imweb.me/admin/booking/product" ><span class="title title_controls" >객실·사이트</span></a></li><li class="  " data-title="booking_order_cal" ><a href="https://qjfhdnaos51106.imweb.me/admin/booking/order_cal" ><span class="title title_controls" >예약 현황</span></a></li><li class="  " data-title="booking_order" ><a href="https://qjfhdnaos51106.imweb.me/admin/booking/order" ><span class="title title_controls" >예약 신청</span></a></li><li class="  " data-title="booking_review" ><a href="https://qjfhdnaos51106.imweb.me/admin/booking/review" ><span class="title title_controls" >후기</span></a></li><li class="  " data-title="booking_answers" ><a href="https://qjfhdnaos51106.imweb.me/admin/booking/answers" ><span class="title title_controls" >문의</span></a></li><li class="  " data-title="booking_option" ><a href="https://qjfhdnaos51106.imweb.me/admin/booking/option" ><span class="title title_controls" >옵션설정</span></a></li><li class="  " data-title="booking_season" ><a href="https://qjfhdnaos51106.imweb.me/admin/booking/season" ><span class="title title_controls" >성수기·휴일</span></a></li><li class="  " data-title="booking_config" ><a href="https://qjfhdnaos51106.imweb.me/admin/booking/config" ><span class="title title_controls" >환경설정</span></a></li></ul></li><li class="gui-folder" data-title="contents" ><a href="https://qjfhdnaos51106.imweb.me/admin/contents" class="sidebar-nav-menu" onclick="return false;" ><div class="gui-icon" ><i class="db-pencil" ></i></div><span class="title title_controls" >컨텐츠 관리</span><span class="badge_icon" >1</span></a><ul><li class="  " data-title="contents_post" ><a href="https://qjfhdnaos51106.imweb.me/admin/contents/post" ><span class="title title_controls" >게시물</span><span class="badge_icon" >1</span></a></li><li class="  " data-title="contents_comment" ><a href="https://qjfhdnaos51106.imweb.me/admin/contents/comment" ><span class="title title_controls" >댓글</span></a></li><li class="  " data-title="contents_form" ><a href="https://qjfhdnaos51106.imweb.me/admin/contents/form" ><span class="title title_controls" >입력폼</span></a></li><li class="  " data-title="contents_map" ><a href="https://qjfhdnaos51106.imweb.me/admin/contents/map" ><span class="title title_controls" >지도</span></a></li><li class="  " data-title="contents_calendar" ><a href="https://qjfhdnaos51106.imweb.me/admin/contents/calendar" ><span class="title title_controls" >일정</span></a></li><li class="  " data-title="contents_gallery" ><a href="https://qjfhdnaos51106.imweb.me/admin/contents/gallery" ><span class="title title_controls" >갤러리</span></a></li><li class="  " data-title="contents_report" ><a href="https://qjfhdnaos51106.imweb.me/admin/contents/report" ><span class="title title_controls" >신고·차단</span></a></li></ul></li><li class="gui-folder" data-title="marketing" ><a href="https://qjfhdnaos51106.imweb.me/admin/marketing" class="sidebar-nav-menu" onclick="return false;" ><div class="gui-icon" ><i class="db-megaphone" ></i></div><span class="title title_controls" >광고 캠페인 관리</span></a><ul><li class="  " data-title="marketing_home" ><a href="https://qjfhdnaos51106.imweb.me/admin/marketing/marketing-home" ><span class="title title_controls" >홈</span></a></li><li class="  " data-title="marketing_dashboard" ><a href="https://qjfhdnaos51106.imweb.me/admin/marketing/dashboard" ><span class="title title_controls" >대시보드</span></a></li><li class="  " data-title="marketing_campaign" ><a href="https://qjfhdnaos51106.imweb.me/admin/marketing/campaign" ><span class="title title_controls" >캠페인</span></a></li><li class="  " data-title="marketing_credit" ><a href="https://qjfhdnaos51106.imweb.me/admin/marketing/credit" ><span class="title title_controls" >크레딧 관리</span></a></li><li class="  " data-title="marketing_dataconnect" ><a href="https://qjfhdnaos51106.imweb.me/admin/marketing/data-connect" ><span class="title title_controls" >데이터 연결</span></a></li></ul></li><li class="gui-folder" data-title="app" ><a href="https://qjfhdnaos51106.imweb.me/admin/app" class="sidebar-nav-menu" onclick="return false;" ><div class="gui-icon" ><i class="db-mobile" ></i></div><span class="title title_controls" >모바일 앱</span></a><ul><li class="  " data-title="app_android" ><a href="https://qjfhdnaos51106.imweb.me/admin/app/android" ><span class="title title_controls" >Android 앱</span></a></li><li class="  " data-title="app_ios" ><a href="https://qjfhdnaos51106.imweb.me/admin/app/ios" ><span class="title title_controls" >iOS 앱</span></a></li></ul></li><li class="gui-folder" data-title="stat" ><a href="https://qjfhdnaos51106.imweb.me/admin/stat" class="sidebar-nav-menu" onclick="return false;" ><div class="gui-icon" ><i class="db-status-up" ></i></div><span class="title title_controls" >통계</span></a><ul><li class="  " data-title="stat_summary" ><a href="https://qjfhdnaos51106.imweb.me/admin/stat/summary" ><span class="title title_controls" >홈</span></a></li><li class="  " data-title="stat_shopping" ><a href="https://qjfhdnaos51106.imweb.me/admin/stat/shopping" ><span class="title title_controls" >매출</span><span class="badge_beta" >Beta</span></a></li><li class="  " data-title="stat_analytics" ><a href="https://qjfhdnaos51106.imweb.me/admin/stat/analytics" ><span class="title title_controls" >기간별 분석</span></a></li><li class="  " data-title="stat_site" ><a href="https://qjfhdnaos51106.imweb.me/admin/stat/site" ><span class="title title_controls" >유입 사이트</span></a></li><li class="  " data-title="stat_keyword" ><a href="https://qjfhdnaos51106.imweb.me/admin/stat/keyword" ><span class="title title_controls" >유입 검색어</span></a></li><li class="  " data-title="stat_visitor" ><a href="https://qjfhdnaos51106.imweb.me/admin/stat/visitor" ><span class="title title_controls" >방문자</span></a></li><li class="  " data-title="stat_page" ><a href="https://qjfhdnaos51106.imweb.me/admin/stat/page" ><span class="title title_controls" >많이 방문한 페이지</span></a></li><li class="  " data-title="stat_traffic" ><a href="https://qjfhdnaos51106.imweb.me/admin/stat/traffic" ><span class="title title_controls" >트래픽</span></a></li><li class="  " data-title="admin_stat_mileage" ><a href="https://qjfhdnaos51106.imweb.me/admin/stat/mileage" ><span class="title title_controls" >적립금</span></a></li><li class="  " data-title="stat_feedback" ><a href="https://qjfhdnaos51106.imweb.me/admin/stat/feedback" ><span class="title title_controls" >컨텐츠 반응</span></a></li><li class="  " data-title="stat_additional_service" ><a href="https://qjfhdnaos51106.imweb.me/admin/stat/additional_service" ><span class="title title_controls" >부가 서비스</span></a></li></ul></li><li class="" data-title="payment" ><a href="https://qjfhdnaos51106.imweb.me/admin/payment" ><div class="gui-icon" ><i class="db-rocket" ></i></div><span class="title title_controls" >결제·앱스토어</span></a></li><li class="gui-folder" data-title="config" ><a href="https://qjfhdnaos51106.imweb.me/admin/config" class="sidebar-nav-menu" onclick="return false;" ><div class="gui-icon" ><i class="db-settings" ></i></div><span class="title title_controls" >환경설정</span></a><ul><li class="  " data-title="config_default" ><a href="https://qjfhdnaos51106.imweb.me/admin/config/default" ><span class="title title_controls" >일반</span></a></li><li class="  " data-title="config_localize" ><a href="https://qjfhdnaos51106.imweb.me/admin/config/localize" ><span class="title title_controls" >언어·지역·통화</span></a></li><li class="  " data-title="config_pg" ><a href="https://qjfhdnaos51106.imweb.me/admin/config/pg" ><span class="title title_controls" >전자결제(PG)</span></a></li><li class="  " data-title="config_domain" ><a href="https://qjfhdnaos51106.imweb.me/admin/config/domain" ><span class="title title_controls" >도메인</span></a></li><li class="  " data-title="config_ssl" ><a href="https://qjfhdnaos51106.imweb.me/admin/config/ssl" ><span class="title title_controls" >SSL(보안서버)</span></a></li><li class="  " data-title="config_security" ><a href="https://qjfhdnaos51106.imweb.me/admin/config/security" ><span class="title title_controls" >보안·개인정보 보호</span></a></li><li class="  " data-title="config_membership" ><a href="https://qjfhdnaos51106.imweb.me/admin/config/membership" ><span class="title title_controls" >회원가입·그룹·등급</span></a></li><li class="  " data-title="config_seo" ><a href="https://qjfhdnaos51106.imweb.me/admin/config/seo" ><span class="title title_controls" >SEO(검색엔진최적화)</span></a></li><li class="  " data-title="config_etc" ><a href="https://qjfhdnaos51106.imweb.me/admin/config/etc" ><span class="title title_controls" >약관</span></a></li><li class="  " data-title="config_popup" ><a href="https://qjfhdnaos51106.imweb.me/admin/config/popup" ><span class="title title_controls" >팝업·배너</span></a></li><li class="  " data-title="config_adult" ><a href="https://qjfhdnaos51106.imweb.me/admin/config/adult" ><span class="title title_controls" >본인·성인인증</span></a></li><li class="  " data-title="config_oauth" ><a href="https://qjfhdnaos51106.imweb.me/admin/config/oauth" ><span class="title title_controls" >소셜 로그인·지도·공유</span></a></li><li class="  " data-title="config_chat" ><a href="https://qjfhdnaos51106.imweb.me/admin/config/chat" ><span class="title title_controls" >상담 채널 연동</span></a></li><li class="  " data-title="config_api_v2" ><a href="https://qjfhdnaos51106.imweb.me/admin/config/rest_v2" ><span class="title title_controls" >외부 서비스 연동 (API)</span></a></li></ul></li><li class="spacer" ></li><li class="top-menu" ><div ><span >리소스</span></div></li><li class="" data-title="support" ><a class="external-url" href="https://imweb.me/customer" target="_blank" ><div class="gui-icon" ><i class="db-comments" ></i></div><span class="title title_controls" >고객지원</span></a></li><li class="gui-folder" data-title="campus" ><a class="external-url" href="https://qjfhdnaos51106.imweb.me/admin/member/edu" onclick="return false;" ><div class="gui-icon" ><i class="db-graduation-cap" ></i></div><span class="title title_controls" >아임웹 교육</span></a><ul><li class="  " data-title="campus_edu" ><a class="external-url" href="https://imweb.me/edu" target="_blank" ><span class="title title_controls" >교육 일정·신청</span></a></li><li class="  " data-title="campus_video" ><a class="external-url" href="https://imweb.me/video_lecture" target="_blank" ><span class="title title_controls" >동영상 강의</span></a></li></ul></li><li class="gui-folder" data-title="expert" ><a href="https://qjfhdnaos51106.imweb.me/admin/expert" class="sidebar-nav-menu" onclick="return false;" ><div class="gui-icon" ><i class="db-telescope" ></i></div><span class="title title_controls" >전문가 찾기</span><span class="badge_new" >New</span></a><ul><li class="  " data-title="find_expert_main" ><a class="external-url" href="https://imweb.me/expert" target="_blank" ><span class="title title_controls" >전문가 찾기</span></a></li><li class="  " data-title="find_expert" ><a href="https://qjfhdnaos51106.imweb.me/admin/expert/find_expert" ><span class="title title_controls" >전문가 웹사이트 관리</span></a></li></ul></li></ul>	</div></div><div class="nano-pane" ><div class="nano-slider" style="height: 698px; top: 0px; display: block; adminMessage-modal"></div></div></div>
</div>
<div class="fold_area animate" >
    <div class="table-cell vertical-middle" >
        <a href="https://qjfhdnaos51106.imweb.me/admin/" class="logo_icon_menu" >
            <img src="./adminMessage-modal_files/imweb_new_bi.svg" >        </a>
    </div>
    <a class="_tooltip_btn side_bar_btn" href="javascript:void(0)" role="button" id="toggle_button" >
		<span class="fold_button left" data-original-title="사이드바 접기" data-toggle="tooltip" data-placement="right" data-trigger="hover" data-template="&lt;div class=&#39;tooltip custom-tooltip&#39;&gt;&lt;div class=&#39;tooltip-inner&#39;&gt;&lt;/div&gt;&lt;/div&gt;" >
			<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none" >
                <path d="M12 11.3334L8.66667 8.00002L12 4.66669M7.33333 11.3334L4 8.00002L7.33333 4.66669" stroke="#717680" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round" ></path>
            </svg>
		</span>
        <span class="fold_button right" data-original-title="사이드바 펼치기" data-toggle="tooltip" data-placement="right" data-trigger="hover" data-template="&lt;div class=&#39;tooltip custom-tooltip&#39;&gt;&lt;div class=&#39;tooltip-inner&#39;&gt;&lt;/div&gt;&lt;/div&gt;" >
	        <div class="default" >
		        			        <img src="./adminMessage-modal_files/grim-logo-imweb-symbol.svg" alt="사이드바 펼치기" >
		        	        </div>
	        <div class="hover" >
				<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none" >
	                <path d="M4 11.3334L7.33333 8.00002L4 4.66669M8.66667 11.3334L12 8.00002L8.66667 4.66669" stroke="#717680" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round" ></path>
	            </svg>
	        </div>
		</span>
    </a>
</div>
<div class="_notify-modal-provider" ></div>
<style >
	.custom-tooltip.in {
		opacity: 1;
	}
	.custom-tooltip.right {
		margin-left: 4px;
		padding: 0;
	}
	.custom-tooltip .tooltip-inner {
		padding: 6px 8px;
		border-radius: 8px;
		background-color: #15181E;
		color: #FFFFFF;
		font-size: 12px;
		font-weight: 400;
		line-height: 16px;
		box-shadow: 0 14px 32px 0 rgba(75, 81, 91, 0.12),
			0 10px 14px 0 rgba(75, 81, 91, 0.06),
			0 0 0 1px rgba(75, 81, 91, 0.03),
			0 0 1px 0 rgba(75, 81, 91, 0.20);
	}
</style>
<script >
  (function(){
    let body = document.body;
    let btn = document.querySelector('#toggle_button');
    let sidebar_mini_class = 'sidebar-mini';
    let user_sm_status = getCookie('sm_status');
    let window_width = window.innerWidth;
    setPrimarySideMenu();

    btn.addEventListener('click', handleToggleButton);
    btn.addEventListener('touch', handleToggleButton);

    //만약 사용자가 버튼을 누르지 않았을때만 이 이벤트 리스너를 사용할것임.
      window.onresize = () => {
        window_width = window.innerWidth;
        if(user_sm_status !== 'h'&& user_sm_status !== 's') {
          resizeWindow(window_width)
        }
      }

    function handleToggleButton(){
      if (user_sm_status == 'h') {
        setSideMenu('show');
      } else {
        setSideMenu('hide');
      }
    }

    function resizeWindow(window_width){
      if (window_width > 1280 || window_width < 991) {
        body.classList.remove(sidebar_mini_class);
      }
      //992~1279 일때
     else {
        body.classList.add(sidebar_mini_class)
      }
    }

    function setPrimarySideMenu() {
      if( window_width > 1280 && user_sm_status !== 'h'|| window_width < 991 ) {
        body.classList.remove(sidebar_mini_class);
      }
      //992~1279 일때
      else if( window_width <=1280 && window_width >= 991) {
          if(user_sm_status == 's') body.classList.remove(sidebar_mini_class);
          else body.classList.add(sidebar_mini_class)
      }
      else{
        body.classList.add(sidebar_mini_class)
      }
    }

    function setSideMenu(show){
      if(show == "show") {
        setCookie('sm_status', 's',1);
        body.classList.remove(sidebar_mini_class);
        user_sm_status = 's'
      }
      else{
        setCookie('sm_status','h',1);
        body.classList.add(sidebar_mini_class);
        user_sm_status = 'h';
		// 사이드바 접기 버튼을 누른 순간에 바로 접힐 수 있도록 10ms동안 임시 클래스 추가로 hover 이벤트를 방지
        let fold_area = document.querySelector('#menubar ~ .fold_area');
		fold_area.classList.add('disable-hover');
		setTimeout(() => {fold_area.classList.remove('disable-hover')}, 10);
      }
    }

	$('._lang_button').off('click').on('click', function(){
		let that = this;
		if($.cocoaStickerModal.isOpen()){
			$.cocoaStickerModal.close();
		}
		$.cocoaStickerModal.open({
			target: that,
			id: 'langListModal',
			html: $('#langListOrigin').html(),
			width: '152px',
			bottom: 23,
			left: 21
		});
	});

	  		  const $notificationButton = $('._gnb_notification_button');

		  const interval = getNotifyBadgeInterval($notificationButton);
		  const notifyHandler = getNotifyHandler();

		  notifyHandler.setInterval(interval);

		  interval.force();
		  interval.start();

		  $notificationButton.on('click', function() {
			  notifyHandler.toggleModal(interval);
		  });
	    })();

</script>
<style >

	#analytics-tooltip button {
		 padding: 4px 12px;
		 line-height: 24px;
		 font-size: 14px;
		 border-radius: 6px;
		 transition: 0.1s ease-out;
	}

	.tooltip-close-button {
		 color: #717680;
		 background-color: transparent;
	}

	.tooltip-close-button:hover {
		 background-color: #f8f9fb;
	}

	.tooltip-close-button:active {
		background-color: #e2e5e9;
	}

	.tooltip-go-button {
		 color: #FFFFFF;
		 background-color: #1A6DFF;
	}

	.tooltip-go-button:hover {
		 background-color: #70a2FF;
	}

	.tooltip-go-button:active {
		background-color: #99bdFF;
	}
</style>
<script >
	window.addEventListener('load', () => {
		var svShowAnalyticsTooltip = 'Y';

		if (svShowAnalyticsTooltip === 'Y') {
			var isClosed = false;

			var isAppending = false;
		
			function isSnbFolded() {
				return document.body.classList.contains('sidebar-mini');
			}

			function isMobile() {
				return window.innerWidth < 993;
			}

			function isTooltipExist() {
				return document.querySelector('#analytics-tooltip') !== null;
			}

			function isStatMenuFolded() {
				return $('li[data-title="stat"] > ul').css('display') === 'none';
			}

			function analyticsFocus() {
				if (
					isClosed ||
					isSnbFolded() ||
					isMobile() ||
					isTooltipExist() ||
					isStatMenuFolded() ||
					isAppending
				) {
					return;
				}

				scrollToMenuLi()
			}

			function scrollToMenuLi () {
				var menuLi = document.querySelector('li[data-title="stat_additional_service"]');

				var menuLiTop = menuLi.getBoundingClientRect().top;
				var toScroll = Math.max(0, menuLiTop - window.innerHeight) + 28 + 144;

				document.querySelector('.nano-content').scrollTo({ top : toScroll, behavior: 'smooth' })

				appendTooltip()
				appendPulse()
			}

			function appendTooltip() {
				isAppending = true;
				setTimeout(() => {
					var menuLi = document.querySelector('li[data-title="stat_additional_service"]');
					var menuLiTop = menuLi.getBoundingClientRect().top + 14;

					var focusElement = document.createElement('div');

					focusElement.id = 'analytics-tooltip'

					focusElement.style.position = 'fixed';
					focusElement.style.left = '224px'
					focusElement.style.top = menuLiTop + 'px';
					focusElement.style.transform = 'translate(12px, -50%)';
					focusElement.style.padding = '16px';
					focusElement.style.borderRadius = '12px';
					focusElement.style.backgroundColor = '#15181E';
					focusElement.style.width = "240px";

					var topText = document.createElement('p');

					topText.style.color = '#FFFFFF';
					topText.style.fontSize = '16px';
					topText.style.fontWeight = '700';
					topText.style.lineHeight = '24px';
					topText.style.marginBottom = '12px';
					topText.textContent = '부가 서비스 메뉴가 합쳐졌어요';

					focusElement.appendChild(topText);

					var middleText = document.createElement('p');

					middleText.style.color = '#FFFFFF';
					middleText.style.fontSize = '14px';
					middleText.style.lineHeight = '20px';
					middleText.style.marginBottom = '24px';
					middleText.innerHTML = '더 다양한 데이터 분석 인사이트를 <br/>만나보세요'

					focusElement.appendChild(middleText);

					var bottomButtonArea = document.createElement('div');

					bottomButtonArea.style.display = 'flex';
					bottomButtonArea.style.justifyContent = 'flex-end';
					bottomButtonArea.style.gap = '6px';

					var closeButton = document.createElement('button');
					closeButton.classList.add('tooltip-close-button');
					closeButton.textContent = '닫기';
					closeButton.id = 'analytics-tooltip-close';
					bottomButtonArea.appendChild(closeButton);

					var goButton = document.createElement('button');
					goButton.id = 'analytics-tooltip-go';
					goButton.classList.add('tooltip-go-button');
					goButton.textContent = '이동';
					bottomButtonArea.appendChild(goButton);

					focusElement.appendChild(bottomButtonArea);

					var arrowSvg = `<svg style="position: absolute;left: -6px;top: 50%;transform: translateY(-50%);" width="6" height="12" viewBox="0 0 6 12" fill="none" xmlns="http://www.w3.org/2000/svg">
										<path d="M0.707107 6.70711C0.316582 6.31658 0.316582 5.68342 0.707106 5.29289L6 -2.62268e-07L6 12L0.707107 6.70711Z" fill="#15181E"/>
									</svg>`

					focusElement.innerHTML += arrowSvg;

					document.body.appendChild(focusElement);

					document.querySelector('#analytics-tooltip-close').addEventListener('click', () => closeAnalyticsTooltip(() => {
						isClosed = true;
						remove();
					}));
					document.querySelector('#analytics-tooltip-go').addEventListener('click', () => closeAnalyticsTooltip(() => {
						location.href = '/admin/stat/additional_service';
					}));

					isAppending = false;
				}, 500);
			}

			function closeAnalyticsTooltip(callback) {
				$.ajax({
					url: '/admin/ajax/menu/close_analytics_tooltip.cm',
					type: 'POST',
					complete: callback
				})
			}

			function appendPulse() {
				var menuLi = document.querySelector('li[data-title="stat_additional_service"]');

				var image = document.createElement('img');

				image.id = 'analytics-pulse';

				image.src = '/admin/img/menu_pulse.gif';

				image.style.position = 'absolute';
				image.style.left = '52px';
				image.style.top = '50%';
				image.style.transform = 'translateY(-50%)';
				image.style.width = '56px';
				image.style.height = '56px';
				image.style.pointerEvents = 'none';

				menuLi.appendChild(image);
				
			}

			function remove() {
				document.querySelector('#analytics-tooltip')?.remove();
				document.querySelector('#analytics-pulse')?.remove();
			}

			window.addEventListener('resize', () => {
				if (window.innerWidth < 993) remove()
				else {
					analyticsFocus();
				}
			})

			document.querySelector('#toggle_button').addEventListener('click', () => {
				if (isSnbFolded()) remove()
				else {
					analyticsFocus();
				}
			})

			$('.gui-folder').click(() => {
				if (isTooltipExist()) remove()
				else {
					setTimeout(() => {
						analyticsFocus();
					}, 500);
				}
			})

			document.querySelector('.nano-content').addEventListener('scroll', () => {
				var tooltip = document.querySelector('#analytics-tooltip')

				if (tooltip !== null) {
					var top = document.querySelector('li[data-title="stat_additional_service"]').getBoundingClientRect().top

					if (top === 0) {
						remove()
						return
					}

					tooltip.style.top = top + 14 + 'px';
				}
			})

			analyticsFocus();
		}
	})

  
	
</script> <!-- END BASE -->



<script >
</script><div id="cocoaModal" role="dialog" style="adminMessage-modal display: none;" class="modal modal_admin" data-backdrop="true" data-keyboard="true">
	<div class="modal-dialog ui-draggable" >
		<div class="modal-content" ><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close" data-original-title="" title=""><i class="btm bt-times"></i></button>
<h3 id="formModalLabel" class="modal-title">알림 보내기</h3></div><div class="modal-body"><p><span class="text-danger">전송에 실패했습니다.</span><span class="help-block">제목은 필수 항목입니다.</span></p></div><div class="modal-footer"><button type="button" class="close btn btn-flat float_r" data-dismiss="modal" data-original-title="" title="">닫기</button></div></div>
	</div>
</div>

<div class="modal submodal" role="dialog" id="cocoaSubModal" style="z-index: 17001; adminMessage-modal">
	<div class="modal-dialog" >
		<div class="modal-content" ></div>
	</div>
</div>

<iframe name="hidden_frame" id="hidden_frame" style="position: absolute; left: -9999px; width: 1px; height: 1px; top: -9999px; adminMessage-modal" src="./adminMessage-modal_files/saved_resource.html"></iframe>



<script >
	</script>

<script type="text/javascript" >
    mixpanel.init('a4939111ea54962dbf95fe89a992eab3', {debug: false});
    mixpanel.identify('M2022120722883bb351d7e');
       MIXPANEL.init();
</script>

<div id="device-breakpoints" ><div class="device-xs visible-xs" data-breakpoint="xs" ></div><div class="device-sm visible-sm" data-breakpoint="sm" ></div><div class="device-md visible-md" data-breakpoint="md" ></div><div class="device-lg visible-lg" data-breakpoint="lg" ></div></div></body></html>